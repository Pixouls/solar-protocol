RewriteEngine on

# REDIRECT TO LOCAL DIRECTORY
# for media
RewriteCond %{REQUEST_URI} \.(jpg|jpeg|png|gif|mp4|pdf)$
RewriteRule ^local/(.*)$ /redirect/images.php?file=$1

#for html and css files
RewriteCond %{REQUEST_URI} \.(html|css)$
RewriteRule ^local/(.*)$ /redirect/www.php?file=$1

#for local www root
RewriteRule ^local/$ /redirect/www.php?file=index.html

#handles subdirectory roots - for example routes mysite/mysubdirectory/ to mysite/mysubdirectory/index.html
#RewriteRule ^local/(.*)/$ /redirect/www.php?file=$1/index.html


# NICE URL FOR STEWARD PAGES - old stuff that mostly works
# this doesn't work with subdirectories because you can't have / in a query string...
RewriteRule ^network/(.*)/(.*)/(.*)/(.*)/(.*)$ /redirect/network.php?steward=$1&path=$2%2F$3%2F$4%2F$5 [QSA,L]
RewriteRule ^network/(.*)/(.*)/(.*)/(.*)$ /redirect/network.php?steward=$1&path=$2%2F$3%2F$4 [QSA,L]
RewriteRule ^network/(.*)/(.*)/(.*)$ /redirect/network.php?steward=$1&path=$2%2F$3 [QSA,L]
RewriteRule ^network/(.*)/(.*)$ /redirect/network.php?steward=$1&path=$2 [QSA,L]
RewriteRule ^network/(.*)$ /redirect/network.php?steward=$1 [QSA,L]


#add trailing / on www root url
RewriteCond %{REQUEST_URI} !(/$|\.) 
RewriteRule (.*) %{REQUEST_URI}/ [R,L] 