RewriteEngine on

# REDIRECT TO LOCAL DIRECTORY
# for media
RewriteCond %{REQUEST_URI} \.(jpg|jpeg|png|gif|mp4|pdf)$
RewriteRule ^local/(.*)$ /redirect/images.php?file=$1

#for html and css files
RewriteCond %{REQUEST_URI} \.(html|css)$
RewriteRule ^local/(.*)$ /redirect/www.php?file=$1

#for local www root
RewriteRule ^local/$ /redirect/www.php?file=index.html

#handles subdirectory roots - for example routes mysite/mysubdirectory/ to mysite/mysubdirectory/index.html
#RewriteRule ^local/(.*)/$ /redirect/www.php?file=$1/index.html


# NICE URL FOR STEWARD PAGES - old stuff that mostly works
RewriteRule ^network/(.*)/(.*)/(.*)/(.*)/(.*)$ /redirect/network.php?steward=$1&path=$2/$3/$4/$5 [QSA,L]
RewriteRule ^network/(.*)/(.*)/(.*)/(.*)$ /redirect/network.php?steward=$1&path=$2/$3/$4 [QSA,L]
RewriteRule ^network/(.*)/(.*)/(.*)$ /redirect/network.php?steward=$1&path=$2/$3 [QSA,L]
RewriteRule ^network/(.*)/(.*)$ /redirect/network.php?steward=$1&path=$2 [QSA,L]
RewriteRule ^network/(.*)$ /redirect/network.php?steward=$1 [QSA,L]


#add trailing /index.html on www root url
RewriteCond %{REQUEST_URI} !(/$|\.) 
RewriteCond %{REQUEST_URI} (^network|^local) 
RewriteRule (.*) %{REQUEST_URI}/index.html [R,L] 

#add trailing index.html on www root url ending in a slash
RewriteCond %{REQUEST_URI} !(\.)
RewriteCond %{REQUEST_URI} (^network|^local)  
RewriteRule (.*) %{REQUEST_URI}index.html [R,L] 