#!/bin/bash
set -e

# make sure script works when called from any directory
cd -- "$( dirname -- "${BASH_SOURCE[0]}" )" &> /dev/null

container=dev_solar-protocol_1

data() {
  podman exec --interactive --tty $container \
    python /solar-protocol/venv/core/getRemoteData.py
}

viz() {
  podman exec --interactive --tty $container \
    python /solar-protocol/venv/build/viz.py
}

html() {
  podman exec --interactive --tty $container \
    python /solar-protocol/venv/build/html.py DEV
}

case $1 in
  data) data ;;
  viz) viz ;;
  html) html ;;
  "") data && viz && html ;;
  *) echo "Unknown generator $1, try data, viz, or html" ;;
esac

