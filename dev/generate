#!/bin/bash
set -e

# make sure script works when called from any directory
cd -- "$( dirname -- "${BASH_SOURCE[0]}" )" &> /dev/null

container=solar-protocol

data() {
  podman exec --interactive --tty $container \
    python /solar-protocol/backend/core/getRemoteData.py DEV
}

viz() {
  podman exec --interactive --tty $container \
    python /solar-protocol/backend/createHTML/viz.py DEV
}

html() {
  podman exec --interactive --tty $container \
    python /solar-protocol/backend/createHTML/create_html.py DEV
}

case $1 in

  data) data ;;
  viz) viz ;;
  html) html ;;
  "") data && viz && html ;;
  *) echo "Unknown generator $1, try data, viz, or html" ;;

esac

